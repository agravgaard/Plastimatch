--- Plastimatch/src/plastimatch/sys/path_util.cxx	2016-08-10 00:01:45.616660524 +0200
+++ GitLabPlastimatch/src/plastimatch/sys/path_util.cxx	2016-08-10 00:54:10.319959645 +0200
@@ -43,6 +43,16 @@
     return filename.substr(0, lastdot); 
 }
 
+std::string strip_extension_if (
+    const std::string& filename, const std::string& ext)
+{
+    if (extension_is (filename, ext.c_str())) {
+        return strip_extension (filename);
+    } else {
+        return filename;
+    }
+}
+
 void
 trim_trailing_slashes (char *pathname)
 {
