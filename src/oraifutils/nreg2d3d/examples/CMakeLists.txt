
# Simple NReg2D3D command line application (Gradient Difference + 1+1 Evolutionary, n-way)
INCLUDE_DIRECTORIES(
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_INTERPOLATION_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_TRANSFORM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_ALGORITHM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_DRRENGINE_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_MATHS_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_METRIC_SUBDIR}  
)
ADD_EXECUTABLE(NReg2D3D_1

  NReg2D3D_1.cxx
)
TARGET_LINK_LIBRARIES(NReg2D3D_1
  ITKCommon
  ITKIO
  
  ORAIFNReg2D3DDRREngine
  ORAIFNReg2D3DInterpolation
  ORAIFNReg2D3DTransform
  ORAIFNReg2D3DMetrics
  ORAIFNReg2D3DAlgorithm
)


# Simple NReg2D3D command line application (Stochastic Rank Correlation + 1+1 Evolutionary, n-way)
INCLUDE_DIRECTORIES(

  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_INTERPOLATION_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_TRANSFORM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_ALGORITHM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_DRRENGINE_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_MATHS_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_METRIC_SUBDIR}  
)
ADD_EXECUTABLE(NReg2D3D_2

  NReg2D3D_2.cxx
  VTKWindowTools.hxx
  CommonTools.hxx
)
TARGET_LINK_LIBRARIES(NReg2D3D_2
  ITKCommon
  ITKIO
  
  vtkCharts
  
  ORAIFNReg2D3DDRREngine
  ORAIFNReg2D3DInterpolation
  ORAIFNReg2D3DTransform
  ORAIFNReg2D3DMetrics
  ORAIFNReg2D3DAlgorithm
)

# Simple NReg2D3D command line application (Stochastic Rank Correlation + SPSA, n-way)
INCLUDE_DIRECTORIES(

  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_INTERPOLATION_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_TRANSFORM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_ALGORITHM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_DRRENGINE_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_MATHS_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_METRIC_SUBDIR}  
)
ADD_EXECUTABLE(NReg2D3D_3

  NReg2D3D_3.cxx
)
TARGET_LINK_LIBRARIES(NReg2D3D_3
  ITKCommon
  ITKIO
  
  ORAIFNReg2D3DDRREngine
  ORAIFNReg2D3DInterpolation
  ORAIFNReg2D3DTransform
  ORAIFNReg2D3DMetrics
  ORAIFNReg2D3DAlgorithm
)


# Simple NReg2D3D command line application (Stochastic Rank Correlation + RSGD, n-way)
INCLUDE_DIRECTORIES(

  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_INTERPOLATION_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_TRANSFORM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_ALGORITHM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_DRRENGINE_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_MATHS_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_METRIC_SUBDIR}  
)
ADD_EXECUTABLE(NReg2D3D_4

  NReg2D3D_4.cxx
)
TARGET_LINK_LIBRARIES(NReg2D3D_4
  ITKCommon
  ITKIO
  
  ORAIFNReg2D3DDRREngine
  ORAIFNReg2D3DInterpolation
  ORAIFNReg2D3DTransform
  ORAIFNReg2D3DMetrics
  ORAIFNReg2D3DAlgorithm
)


# Resampling/rescaling tool application
ADD_EXECUTABLE(ResamplerRescaler

  ResamplerRescaler.cxx
)
TARGET_LINK_LIBRARIES(ResamplerRescaler
  ITKCommon
  ITKIO
  ITKBasicFilters  
)


# ITF optimizer
INCLUDE_DIRECTORIES(

  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_INTERPOLATION_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_TRANSFORM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_ALGORITHM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_DRRENGINE_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_MATHS_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_METRIC_SUBDIR}   
)
ADD_EXECUTABLE(ITFOptimizer

  ITFOptimizer.cxx
)
TARGET_LINK_LIBRARIES(ITFOptimizer
  ITKCommon
  ITKIO
  
  ORAIFNReg2D3DDRREngine
  ORAIFNReg2D3DInterpolation
  ORAIFNReg2D3DTransform
  ORAIFNReg2D3DMetrics
  ORAIFNReg2D3DAlgorithm
  
  vtkCharts
)


# Generic NReg2D3D command line application enabling various metrics and optimizers
INCLUDE_DIRECTORIES(

  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_INTERPOLATION_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_TRANSFORM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_ALGORITHM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_DRRENGINE_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_MATHS_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_METRIC_SUBDIR}  
)
ADD_EXECUTABLE(NReg2D3D

  NReg2D3D.cxx
  VTKWindowTools.hxx
  CommonTools.hxx
)
TARGET_LINK_LIBRARIES(NReg2D3D
  ITKCommon
  ITKIO
  
  vtkCharts
  
  ORAIFNReg2D3DDRREngine
  ORAIFNReg2D3DInterpolation
  ORAIFNReg2D3DTransform
  ORAIFNReg2D3DMetrics
  ORAIFNReg2D3DAlgorithm
)

INSTALL(TARGETS NReg2D3D NReg2D3D_1 NReg2D3D_2 NReg2D3D_3 NReg2D3D_4
  RUNTIME DESTINATION "${INSTALL_BIN_DIR}" COMPONENT bin
  LIBRARY DESTINATION "${INSTALL_LIB_DIR}" COMPONENT lib
  ARCHIVE DESTINATION "${INSTALL_LIB_DIR}" COMPONENT lib/static
  COMPONENT dev)

# Generic NReg2D3D command line application enabling various metrics and optimizers
# using the CPUSiddon DRR Filter
INCLUDE_DIRECTORIES(

  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_INTERPOLATION_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_TRANSFORM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_ALGORITHM_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_DRRENGINE_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_MATHS_SUBDIR}
  ${ORAIFUTILS_SOURCE_DIR}/${ORAIFUTILS_NREG2D3D_METRIC_SUBDIR}  
)
ADD_EXECUTABLE(NReg2D3DCPUSiddon

  NReg2D3DCPUSiddon.cxx
  CommonTools.hxx
)
TARGET_LINK_LIBRARIES(NReg2D3DCPUSiddon
  ITKCommon
  ITKIO
  
  ORAIFNReg2D3DDRREngine
  ORAIFNReg2D3DInterpolation
  ORAIFNReg2D3DTransform
  ORAIFNReg2D3DMetrics
  ORAIFNReg2D3DAlgorithm
)

INSTALL(TARGETS NReg2D3D NReg2D3D_1 NReg2D3D_2 NReg2D3D_3 NReg2D3D_4 NReg2D3DCPUSiddon
  RUNTIME DESTINATION "${INSTALL_BIN_DIR}" COMPONENT bin
  LIBRARY DESTINATION "${INSTALL_LIB_DIR}" COMPONENT lib
  ARCHIVE DESTINATION "${INSTALL_LIB_DIR}" COMPONENT lib/static
  COMPONENT dev)


